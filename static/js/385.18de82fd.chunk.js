"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[385],{385:function(e,t,r){r.r(t);var n=r(861),a=r(439),c=r(757),s=r.n(c),i=r(689),o=r(87),u=r(791),l=r(243),v=r(790),p=r(184);t.default=function(){var e=(0,i.UO)().movieId,t=(0,u.useState)([]),r=(0,a.Z)(t,2),c=r[0],h=r[1],f=(0,i.TH)(),d=new v.Z;(0,u.useEffect)((function(){m(e)}),[]);var m=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getMovieDetalis(t);case 3:r=e.sent,h(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=c.title,_=c.image,x=c.overview,w=c.genres,j=c.userScore;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{children:[(0,p.jsxs)(o.rU,{to:f.state.from,state:{from:f},children:["Go back"," "]}),_&&(0,p.jsx)("img",{src:_,alt:g}),(0,p.jsx)("h1",{children:g}),(0,p.jsx)("h2",{children:"User score:"}),(0,p.jsx)("p",{children:j}),(0,p.jsx)("h2",{children:"Overview"}),(0,p.jsx)("p",{children:x}),(0,p.jsx)("h2",{children:"Genres"}),(0,p.jsx)("ul",{children:w&&w.map((function(e){var t=e.name,r=e.id;return(0,p.jsx)("li",{children:t},r)}))}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsx)(o.rU,{to:"cast",state:f.state,children:"Read about our cast"})}),(0,p.jsx)("li",{children:(0,p.jsx)(o.rU,{to:"reviews",state:f.state,children:"Get to know the reviews"})})]}),(0,p.jsx)(u.Suspense,{fallback:(0,p.jsx)("div",{children:(0,p.jsx)(l.VF,{ariaLabel:"mutating-dots-loading",wrapperStyle:{display:"flex",justifyContent:"center"}})}),children:(0,p.jsx)(i.j3,{})})]})})}},790:function(e,t,r){var n=r(861),a=r(144),c=r(671),s=r(757),i=r.n(s),o=r(924),u=(0,a.Z)((function e(){var t=this;(0,c.Z)(this,e),this.API_KEY="8dbbaf50b58201a2d3381e6f92e0ca1f",this.BASE_URL="https://api.themoviedb.org/3/",this.BASE_URL_IMG="https://image.tmdb.org/t/p/w500",this.getTrendingMovies=(0,n.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"trending/movie/day?api_key=").concat(t.API_KEY));case 3:return r=e.sent,e.abrupt("return",t._transformTrendingMovies(r.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this._transformTrendingMovies=function(e){return e.map((function(e){var r=e.id,n=e.title,a=e.poster_path;return{id:r,title:n,images:"".concat(t.BASE_URL_IMG).concat(a)}}))},this.getMovieDetalis=function(){var e=(0,n.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"movie/").concat(r,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",t._transformMovieDetalis(n.data));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getCastOrReviewsMovie=function(){var e=(0,n.Z)(i().mark((function e(r,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"movie/").concat(r,"/").concat(n,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:if(a=e.sent,"credits"!==n){e.next=6;break}return e.abrupt("return",t._transformCastMovie(a.data.cast));case 6:if("reviews"!==n){e.next=12;break}if(a.data.results.length){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",t._transformReviewsMovie(a.data.results));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}(),this.getMovieSearch=function(){var e=(0,n.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"search/movie?api_key=").concat(t.API_KEY,"&language=en-US&include_adult=false&query=").concat(r));case 3:return n=e.sent,e.abrupt("return",t._transformMovie(n.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this._transformMovie=function(e){return e.map((function(e){return{id:e.id,title:e.title}}))},this._transformMovieDetalis=function(e){var r=e.title,n=e.poster_path,a=e.overview,c=e.genres,s=e.popularity;return n?{title:r,image:"".concat(t.BASE_URL_IMG).concat(n),overview:a,genres:c,userScore:s}:{title:r,image:null,overview:a,genres:c,userScore:s}},this._transformCastMovie=function(e){return e.map((function(e){var r=e.character,n=e.name,a=e.profile_path,c=e.id;return a?{character:r,name:n,id:c,image:"".concat(t.BASE_URL_IMG).concat(a)}:{character:r,name:n,id:c,image:null}}))},this._transformReviewsMovie=function(e){return e.map((function(e){return{author:e.author,id:e.id,content:e.content}}))}}));t.Z=u}}]);
//# sourceMappingURL=385.18de82fd.chunk.js.map