"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[361],{4361:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r,a,c,i,s=n(5861),o=n(9439),u=n(7757),l=n.n(u),p=n(7689),v=n(2791),f=n(8790),h=n(168),d=n(6444),g=d.ZP.ul(r||(r=(0,h.Z)(["\ndisplay: flex;\n    flex-wrap: wrap;\n    gap: 30px;\n    text-align: center;\n}\n"]))),m=d.ZP.li(a||(a=(0,h.Z)(["\n  flex-basis: calc((100% - 60px) / 6);\n"]))),_=d.ZP.div(c||(c=(0,h.Z)(["\n  padding: 8px 10px;\n"]))),x=d.ZP.img(i||(i=(0,h.Z)(["\n  margin: 0 auto;\n"]))),w=n(7729),Z=n(184);console.log(w);var b=function(){var e=(0,p.UO)().movieId,t=(0,v.useState)([]),n=(0,o.Z)(t,2),r=n[0],a=n[1],c=new f.Z;(0,v.useEffect)((function(){i(e)}),[]);var i=function(){var e=(0,s.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getCastOrReviewsMovie(t,"credits");case 3:n=e.sent,a(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,Z.jsx)("div",{children:(0,Z.jsx)(g,{children:r.map((function(e){var t=e.image,n=e.name,r=e.character,a=e.id;return(0,Z.jsxs)(m,{children:[t?(0,Z.jsx)(x,{width:150,src:t,alt:""}):(0,Z.jsx)(x,{style:{objectFit:"cover",height:"221px"},width:150,src:w,alt:""}),(0,Z.jsxs)(_,{children:[(0,Z.jsx)("p",{children:n}),(0,Z.jsx)("p",{children:r})]})]},a)}))})})}},8790:function(e,t,n){var r=n(5861),a=n(3144),c=n(5671),i=n(7757),s=n.n(i),o=n(1243),u=(0,a.Z)((function e(){var t=this;(0,c.Z)(this,e),this.API_KEY="8dbbaf50b58201a2d3381e6f92e0ca1f",this.BASE_URL="https://api.themoviedb.org/3/",this.BASE_URL_IMG="https://image.tmdb.org/t/p/w500",this.getTrendingMovies=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"trending/movie/day?api_key=").concat(t.API_KEY));case 3:return n=e.sent,e.abrupt("return",t._transformTrendingMovies(n.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getMovieDetalis=function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"movie/").concat(n,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:return r=e.sent,e.abrupt("return",t._transformMovieDetalis(r.data));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getCastOrReviewsMovie=function(){var e=(0,r.Z)(s().mark((function e(n,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"movie/").concat(n,"/").concat(r,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:if(a=e.sent,"credits"!==r){e.next=6;break}return e.abrupt("return",t._transformCastMovie(a.data.cast));case 6:if("reviews"!==r){e.next=12;break}if(a.data.results.length){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",t._transformReviewsMovie(a.data.results));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getMovieSearch=function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("".concat(t.BASE_URL,"search/movie?api_key=").concat(t.API_KEY,"&language=en-US&include_adult=false&query=").concat(n));case 3:return r=e.sent,console.log(r.data.results),e.abrupt("return",t._transformMovie(r.data.results));case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this._transformMovie=function(e){return e.map((function(e){var n=e.id,r=e.title,a=e.poster_path;return a?{id:n,title:r,image:"".concat(t.BASE_URL_IMG).concat(a)}:{title:r,image:null,id:n}}))},this._transformMovieDetalis=function(e){var n=e.title,r=e.poster_path,a=e.overview,c=e.genres,i=e.popularity;return r?{title:n,image:"".concat(t.BASE_URL_IMG).concat(r),overview:a,genres:c,userScore:i}:{title:n,image:null,overview:a,genres:c,userScore:i}},this._transformCastMovie=function(e){return e.map((function(e){var n=e.character,r=e.name,a=e.profile_path,c=e.id;return a?{character:n,name:r,id:c,image:"".concat(t.BASE_URL_IMG).concat(a)}:{character:n,name:r,id:c,image:null}}))},this._transformReviewsMovie=function(e){return e.map((function(e){return{author:e.author,id:e.id,content:e.content}}))},this._transformTrendingMovies=function(e){return e.map((function(e){var n=e.id,r=e.title,a=e.poster_path;return{id:n,title:r,images:"".concat(t.BASE_URL_IMG).concat(a)}}))}}));t.Z=u},7729:function(e,t,n){e.exports=n.p+"static/media/not-found.2cd02c1e950920d21e7e.jpg"}}]);
//# sourceMappingURL=361.01203912.chunk.js.map