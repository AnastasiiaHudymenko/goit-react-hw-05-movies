"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[488],{488:function(e,t,r){r.r(t);var n=r(861),a=r(439),c=r(757),i=r.n(c),o=r(689),s=r(791),u=r(790),l=r(184);t.default=function(){var e=(0,o.UO)().movieId,t=(0,s.useState)([]),r=(0,a.Z)(t,2),c=r[0],p=r[1],v=new u.Z;(0,s.useEffect)((function(){f(e)}),[]);var f=function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.getCastOrReviewsMovie(t,"reviews");case 3:r=e.sent,p(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsx)(l.Fragment,{children:c?(0,l.jsx)("div",{children:(0,l.jsx)("ul",{children:c.map((function(e){var t=e.author,r=e.content,n=e.id;return(0,l.jsxs)("li",{children:[(0,l.jsxs)("h2",{children:["Author:",t]}),(0,l.jsxs)("p",{children:["Content:",r]})]},n)}))})}):(0,l.jsx)("p",{children:"Not found"})})}},790:function(e,t,r){var n=r(861),a=r(144),c=r(671),i=r(757),o=r.n(i),s=r(924),u=(0,a.Z)((function e(){var t=this;(0,c.Z)(this,e),this.API_KEY="8dbbaf50b58201a2d3381e6f92e0ca1f",this.BASE_URL="https://api.themoviedb.org/3/",this.BASE_URL_IMG="https://image.tmdb.org/t/p/w500",this.getTrendingMovies=(0,n.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(t.BASE_URL,"trending/movie/day?api_key=").concat(t.API_KEY));case 3:return r=e.sent,e.abrupt("return",t._transformTrendingMovies(r.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this._transformTrendingMovies=function(e){return e.map((function(e){var r=e.id,n=e.title,a=e.poster_path;return{id:r,title:n,images:"".concat(t.BASE_URL_IMG).concat(a)}}))},this.getMovieDetalis=function(){var e=(0,n.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(t.BASE_URL,"movie/").concat(r,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",t._transformMovieDetalis(n.data));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getCastOrReviewsMovie=function(){var e=(0,n.Z)(o().mark((function e(r,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(t.BASE_URL,"movie/").concat(r,"/").concat(n,"?api_key=").concat(t.API_KEY,"&language=en-US"));case 3:if(a=e.sent,"credits"!==n){e.next=6;break}return e.abrupt("return",t._transformCastMovie(a.data.cast));case 6:if("reviews"!==n){e.next=12;break}if(a.data.results.length){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",t._transformReviewsMovie(a.data.results));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}(),this.getMovieSearch=function(){var e=(0,n.Z)(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(t.BASE_URL,"search/movie?api_key=").concat(t.API_KEY,"&language=en-US&include_adult=false&query=").concat(r));case 3:return n=e.sent,e.abrupt("return",t._transformMovie(n.data.results));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this._transformMovie=function(e){return e.map((function(e){return{id:e.id,title:e.title}}))},this._transformMovieDetalis=function(e){var r=e.title,n=e.poster_path,a=e.overview,c=e.genres,i=e.popularity;return n?{title:r,image:"".concat(t.BASE_URL_IMG).concat(n),overview:a,genres:c,userScore:i}:{title:r,image:null,overview:a,genres:c,userScore:i}},this._transformCastMovie=function(e){return e.map((function(e){var r=e.character,n=e.name,a=e.profile_path,c=e.id;return a?{character:r,name:n,id:c,image:"".concat(t.BASE_URL_IMG).concat(a)}:{character:r,name:n,id:c,image:null}}))},this._transformReviewsMovie=function(e){return e.map((function(e){return{author:e.author,id:e.id,content:e.content}}))}}));t.Z=u}}]);
//# sourceMappingURL=488.69a92270.chunk.js.map