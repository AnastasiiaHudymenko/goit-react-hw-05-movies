"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[924],{7308:function(t,n,e){e.d(n,{OM:function(){return p},W2:function(){return h},ck:function(){return d},ef:function(){return f},rS:function(){return l}});var r,a,i,o,c,s=e(168),u=e(6444),p=u.ZP.ul(r||(r=(0,s.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 26px;\n  justify-content: center;\n"]))),l=u.ZP.p(a||(a=(0,s.Z)(["\n  font-size: 20px;\n  padding: 0 10px;\n"]))),f=u.ZP.img(i||(i=(0,s.Z)(["\n  margin-bottom: 10px;\n"]))),d=u.ZP.li(o||(o=(0,s.Z)(["\n  width: 300px;\n"]))),h=u.ZP.div(c||(c=(0,s.Z)(["\n   max-width: 1280px;\n    padding-left: 15px;\n    padding-right: 15px;\n    margin: o auto;\n    margin: 0 auto;\n}\n"])))},6924:function(t,n,e){e.r(n),e.d(n,{default:function(){return R}});var r,a,i,o,c,s=e(9439),u=e(5705),p=e(7670),l=e(8185),f=e(1087),d=e(168),h=e(6444),v=h.ZP.div(r||(r=(0,d.Z)(["\n   max-width: 1280px;\n    padding-left: 15px;\n    padding-right: 15px;\n    margin: o auto;\n    margin: 0 auto;\n}\n"]))),m=(0,h.ZP)(u.l0)(a||(a=(0,d.Z)(["\n  margin-bottom: 60px;\n  position: relative;\n"]))),g=(0,h.ZP)(u.gN)(i||(i=(0,d.Z)(["\n  width: 50%;\n  height: 34px;\n  /* border-radius: 4px; */\n  border: none;\n  border-bottom: 1px solid orange;\n  padding-left: 20px;\n  font-size: 18px;\n  outline: none;\n"]))),x=h.ZP.button(o||(o=(0,d.Z)(["\n  border: none;\n  background-color: transparent;\n  padding: 0;\n  margin: 0;\n  margin-left: -47px;\n  cursor: pointer;\n"]))),_=h.ZP.span(c||(c=(0,d.Z)(["\n  position: absolute;\n  bottom: -25px;\n  left: 0;\n  font-size: 20px;\n  font-style: italic;\n  color: red;\n"]))),b=e(5861),Z=e(7757),w=e.n(Z),S=e(7689),k=e(2791),M=e(8790),j=e(7308),y=e(7729),E=e(184),A=function(t){var n=t.query,e=(0,k.useState)(null),r=(0,s.Z)(e,2),a=r[0],i=r[1],o=(0,S.TH)(),c=new M.Z;return(0,k.useEffect)((function(){function t(){return t=(0,b.Z)(w().mark((function t(n){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getMovieSearch(n);case 2:e=t.sent,i(e);case 4:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}n&&function(n){t.apply(this,arguments)}(n)}),[n,o.state]),(0,E.jsx)(j.OM,{children:a&&a.map((function(t){var n=t.id,e=t.title,r=t.image;return(0,E.jsx)(j.ck,{children:(0,E.jsxs)(f.rU,{to:"/movies/".concat(n),state:{from:o},children:[r?(0,E.jsx)(j.ef,{width:300,src:r,alt:""}):(0,E.jsx)(j.ef,{style:{objectFit:"cover",height:"450px"},src:y,alt:""}),(0,E.jsx)(j.rS,{children:e})]})},n)}))})},P=p.Ry().shape({search:p.Z_().min(2,"Too Short!").max(70,"Too Long!").required("Required")}),R=function(){var t=(0,f.lr)(),n=(0,s.Z)(t,2),e=n[0],r=n[1],a=e.get("search");return(0,E.jsx)("main",{children:(0,E.jsxs)(v,{children:[(0,E.jsx)(u.J9,{initialValues:{search:""},onSubmit:function(t,n){var e=t.search;r(""!==e?{search:e}:{}),n.resetForm()},validationSchema:P,children:(0,E.jsxs)(m,{children:[(0,E.jsxs)("label",{children:[(0,E.jsx)(g,{type:"text",name:"search"}),(0,E.jsx)(u.Bc,{name:"search",children:function(t){return(0,E.jsx)(_,{children:t})}})]}),(0,E.jsx)(x,{type:"submit",children:(0,E.jsx)(l.dVI,{size:40,fill:"orange"})})]})}),(0,E.jsx)(A,{query:a})]})})}},8790:function(t,n,e){var r=e(5861),a=e(3144),i=e(5671),o=e(7757),c=e.n(o),s=e(1243),u=(0,a.Z)((function t(){var n=this;(0,i.Z)(this,t),this.API_KEY="8dbbaf50b58201a2d3381e6f92e0ca1f",this.BASE_URL="https://api.themoviedb.org/3/",this.BASE_URL_IMG="https://image.tmdb.org/t/p/w500",this.getTrendingMovies=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("".concat(n.BASE_URL,"trending/movie/day?api_key=").concat(n.API_KEY));case 3:return e=t.sent,t.abrupt("return",n._transformTrendingMovies(e.data.results));case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),this.getMovieDetalis=function(){var t=(0,r.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("".concat(n.BASE_URL,"movie/").concat(e,"?api_key=").concat(n.API_KEY,"&language=en-US"));case 3:return r=t.sent,t.abrupt("return",n._transformMovieDetalis(r.data));case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}(),this.getCastOrReviewsMovie=function(){var t=(0,r.Z)(c().mark((function t(e,r){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("".concat(n.BASE_URL,"movie/").concat(e,"/").concat(r,"?api_key=").concat(n.API_KEY,"&language=en-US"));case 3:if(a=t.sent,"credits"!==r){t.next=6;break}return t.abrupt("return",n._transformCastMovie(a.data.cast));case 6:if("reviews"!==r){t.next=12;break}if(a.data.results.length){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",n._transformReviewsMovie(a.data.results));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(n,e){return t.apply(this,arguments)}}(),this.getMovieSearch=function(){var t=(0,r.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.get("".concat(n.BASE_URL,"search/movie?api_key=").concat(n.API_KEY,"&language=en-US&include_adult=false&query=").concat(e));case 3:return r=t.sent,t.abrupt("return",n._transformMovie(r.data.results));case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}(),this._transformMovie=function(t){return t.map((function(t){var e=t.id,r=t.title,a=t.poster_path;return a?{id:e,title:r,image:"".concat(n.BASE_URL_IMG).concat(a)}:{title:r,image:null,id:e}}))},this._transformMovieDetalis=function(t){var e=t.title,r=t.poster_path,a=t.overview,i=t.genres,o=t.vote_average;return r?{title:e,image:"".concat(n.BASE_URL_IMG).concat(r),overview:a,genres:i,userScore:o}:{title:e,image:null,overview:a,genres:i,userScore:o}},this._transformCastMovie=function(t){return t.map((function(t){var e=t.character,r=t.name,a=t.profile_path,i=t.id;return a?{character:e,name:r,id:i,image:"".concat(n.BASE_URL_IMG).concat(a)}:{character:e,name:r,id:i,image:null}}))},this._transformReviewsMovie=function(t){return t.map((function(t){return{author:t.author,id:t.id,content:t.content}}))},this._transformTrendingMovies=function(t){return t.map((function(t){var e=t.id,r=t.title,a=t.poster_path;return{id:e,title:r,images:"".concat(n.BASE_URL_IMG).concat(a)}}))}}));n.Z=u},7729:function(t,n,e){t.exports=e.p+"static/media/not-found.2cd02c1e950920d21e7e.jpg"}}]);
//# sourceMappingURL=924.b8f339b4.chunk.js.map